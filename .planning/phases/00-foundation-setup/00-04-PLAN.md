---
phase: 00-foundation-setup
plan: 04
type: execute
wave: 3
depends_on: ["00-02"]
files_modified:
  - tailwind.config.ts
  - postcss.config.js
  - package.json
  - src/entrypoints/popup/style.css
  - src/entrypoints/options/style.css
  - src/lib/store/profile-store.ts
autonomous: true

must_haves:
  truths:
    - "Tailwind CSS classes work in popup and options pages"
    - "Zustand store can manage state across components"
    - "Hot reload works with Tailwind changes"
  artifacts:
    - path: "tailwind.config.ts"
      provides: "Tailwind configuration with content paths"
      contains: "content:"
    - path: "postcss.config.js"
      provides: "PostCSS config with Tailwind plugin"
      contains: "tailwindcss"
    - path: "src/lib/store/profile-store.ts"
      provides: "Example Zustand store"
      exports: ["useProfileStore"]
  key_links:
    - from: "src/entrypoints/popup/style.css"
      to: "tailwind.config.ts"
      via: "@tailwind directives"
      pattern: "@tailwind"
    - from: "src/entrypoints/popup/App.tsx"
      to: "Tailwind classes"
      via: "className prop"
      pattern: "className="
---

<objective>
Configure Tailwind CSS for styling popup and options pages, set up PostCSS pipeline, install Zustand for state management, and create example store demonstrating the pattern for profile state in Phase 1.

Purpose: Complete the final pieces of the tech stack from TECHSTACK.md (Tailwind for styling, Zustand for state). Per AGENTS.md: "Tailwind CSS — utility-first; produces tiny CSS bundles; no runtime overhead." This plan ensures styling and state management infrastructure is ready before Phase 1 feature development.

Output: Tailwind CSS integrated with WXT build pipeline, working in popup/options pages, Zustand installed with example store, and hot reload functional for CSS changes.
</objective>

<execution_context>
@C:/Users/kittu/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/kittu/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/.planning/PROJECT.md
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/.planning/ROADMAP.md
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/.planning/phases/00-foundation-setup/00-CONTEXT.md
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/.planning/phases/00-foundation-setup/00-RESEARCH.md
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/TECHSTACK.md
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/AGENTS.md

# Reference from Plan 01 for popup/options structure
@C:/Users/kittu/Downloads/GIT/AutoApplyBot/.planning/phases/00-foundation-setup/00-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Install and configure Tailwind CSS with PostCSS</name>
  <files>
    tailwind.config.ts
    postcss.config.js
    package.json
    src/entrypoints/popup/style.css
    src/entrypoints/options/style.css
  </files>
  <action>
Install Tailwind CSS and PostCSS:

```bash
pnpm add -D tailwindcss postcss autoprefixer
pnpm exec tailwindcss init --ts
```

Update `tailwind.config.ts` to scan all source files for Tailwind classes:

```typescript
import type { Config } from 'tailwindcss';

export default {
  content: [
    './src/**/*.{ts,tsx,html}',
    './src/entrypoints/**/*.{ts,tsx,html}',
  ],
  theme: {
    extend: {},
  },
  plugins: [],
} satisfies Config;
```

Create `postcss.config.js` in project root:

```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
```

Update `src/entrypoints/popup/style.css` to include Tailwind directives:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles can go here */
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
```

Update `src/entrypoints/options/style.css` with same Tailwind directives:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

Update `src/entrypoints/popup/App.tsx` to use Tailwind classes (per Plan 01 placeholder):

```typescript
import React from 'react';
import './style.css';

function App(): React.ReactElement {
  return (
    <div className="w-80 min-h-96 bg-white">
      <div className="bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white">
        <h1 className="text-xl font-bold">AutoApply Copilot</h1>
        <p className="text-sm opacity-90 mt-1">Your job application assistant</p>
      </div>
      <div className="p-4">
        <div className="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
          <p className="text-green-800 text-sm font-medium">✓ Phase 0: Foundation Complete</p>
        </div>
        <p className="text-gray-600 text-sm">
          Ready to build Phase 1 features
        </p>
      </div>
    </div>
  );
}

export default App;
```

Update `src/entrypoints/options/App.tsx`:

```typescript
import React from 'react';
import './style.css';

function App(): React.ReactElement {
  return (
    <div className="container mx-auto max-w-4xl p-8">
      <header className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Settings</h1>
        <p className="text-gray-600 mt-2">Manage your profile and preferences</p>
      </header>
      
      <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <h2 className="text-lg font-semibold text-gray-900 mb-2">Configuration</h2>
        <p className="text-gray-600 text-sm">
          Configuration options will appear here in Phase 1
        </p>
      </div>
    </div>
  );
}

export default App;
```

Rationale: WXT with Vite automatically processes PostCSS, so Tailwind integrates seamlessly. Per TECHSTACK.md: "Tailwind CSS — utility-first; produces tiny CSS bundles; no runtime overhead." Scanning all src/ files ensures Tailwind finds classes in any component. The updated popup/options show visual confirmation that Tailwind is working.
  </action>
  <verify>
Run `pnpm dev` and load extension in Chrome.

1. Click extension icon → popup should show gradient header (blue), green success banner, styled text
2. Right-click extension → Options → should show styled settings page with shadow and border
3. Inspect popup in DevTools → verify Tailwind classes are compiled to CSS (not raw class names)
4. Change a Tailwind class in popup/App.tsx (e.g., `bg-blue-500` → `bg-red-500`), save → popup should hot reload with new color

If styles don't appear, check:
- PostCSS is processing (look for "Processing CSS" in terminal)
- `@tailwind` directives are in style.css files
- style.css is imported in App.tsx files
  </verify>
  <done>
- Tailwind CSS and PostCSS installed
- tailwind.config.ts configured with correct content paths
- postcss.config.js created with tailwindcss + autoprefixer
- @tailwind directives added to popup and options style.css
- Popup and options App.tsx updated with Tailwind classes
- Visual confirmation: gradient header, green banner, styled elements visible
- Hot reload works with CSS changes
  </done>
</task>

<task type="auto">
  <name>Install Zustand and create example profile store</name>
  <files>
    package.json
    src/lib/store/profile-store.ts
    src/types/profile.ts
  </files>
  <action>
Install Zustand:

```bash
pnpm add zustand
```

Create `src/types/profile.ts` to define profile data structure (placeholder for Phase 1):

```typescript
export type Profile = {
  personal: {
    name: string;
    email: string;
    phone: string;
  };
  isComplete: boolean;
};
```

Create `src/lib/store/profile-store.ts` with example Zustand store:

```typescript
import { create } from 'zustand';
import type { Profile } from '@/types/profile';

type ProfileStore = {
  profile: Profile | null;
  isLoading: boolean;
  
  // Actions
  setProfile: (profile: Profile) => void;
  clearProfile: () => void;
  setLoading: (loading: boolean) => void;
};

export const useProfileStore = create<ProfileStore>((set) => ({
  profile: null,
  isLoading: false,

  setProfile: (profile: Profile) => set({ profile, isLoading: false }),
  clearProfile: () => set({ profile: null }),
  setLoading: (loading: boolean) => set({ isLoading: loading }),
}));
```

Rationale: Per TECHSTACK.md: "Zustand — ~1KB; no boilerplate; perfect for extension popup + content script state." This store demonstrates the pattern that will be used extensively in Phase 1 for profile management. Using path alias `@/types/profile` per AGENTS.md import guidelines.
  </action>
  <verify>
Run `pnpm type-check` → should pass with zero errors.

Check that:
1. src/lib/store/profile-store.ts exists and exports `useProfileStore`
2. src/types/profile.ts exists and exports `Profile` type
3. TypeScript resolves `@/types/profile` import correctly (no errors)
4. Zustand is in package.json dependencies

Create a quick test file to verify Zustand works (delete after verification):

```typescript
// tests/unit/store/profile-store.test.ts
import { describe, it, expect } from 'vitest';
import { useProfileStore } from '@/lib/store/profile-store';

describe('Profile Store', () => {
  it('should initialize with null profile', () => {
    const { profile } = useProfileStore.getState();
    expect(profile).toBeNull();
  });

  it('should set profile', () => {
    const store = useProfileStore;
    store.getState().setProfile({
      personal: { name: 'Test User', email: 'test@example.com', phone: '555-0100' },
      isComplete: false,
    });
    
    expect(store.getState().profile?.personal.name).toBe('Test User');
  });
});
```

Run `pnpm test` → should pass with 5 tests total (3 from Plan 03 + 2 new store tests).
  </verify>
  <done>
- Zustand installed in package.json
- src/types/profile.ts created with Profile type
- src/lib/store/profile-store.ts created with useProfileStore
- Path alias (@/) resolves correctly
- Store test passes (Profile state management working)
- `pnpm type-check` passes
  </done>
</task>

<task type="auto">
  <name>Demonstrate Zustand store usage in popup</name>
  <files>
    src/entrypoints/popup/App.tsx
  </files>
  <action>
Update `src/entrypoints/popup/App.tsx` to use the profile store, demonstrating state management pattern:

```typescript
import React from 'react';
import { useProfileStore } from '@/lib/store/profile-store';
import './style.css';

function App(): React.ReactElement {
  const { profile, setProfile } = useProfileStore();

  const handleDemoProfile = () => {
    setProfile({
      personal: {
        name: 'Demo User',
        email: 'demo@example.com',
        phone: '555-0100',
      },
      isComplete: false,
    });
  };

  return (
    <div className="w-80 min-h-96 bg-white">
      <div className="bg-gradient-to-r from-blue-500 to-blue-600 p-4 text-white">
        <h1 className="text-xl font-bold">AutoApply Copilot</h1>
        <p className="text-sm opacity-90 mt-1">Your job application assistant</p>
      </div>
      
      <div className="p-4">
        <div className="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
          <p className="text-green-800 text-sm font-medium">✓ Phase 0: Foundation Complete</p>
        </div>

        {profile ? (
          <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
            <p className="text-blue-900 text-sm font-medium">Profile Loaded</p>
            <p className="text-blue-700 text-xs mt-1">{profile.personal.name}</p>
          </div>
        ) : (
          <p className="text-gray-600 text-sm mb-4">No profile loaded</p>
        )}

        <button
          onClick={handleDemoProfile}
          className="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors"
        >
          Load Demo Profile
        </button>
        
        <p className="text-gray-500 text-xs mt-4 text-center">
          Ready for Phase 1 development
        </p>
      </div>
    </div>
  );
}

export default App;
```

Rationale: This demonstrates the complete stack working together: React (component), Tailwind (styling), Zustand (state management), TypeScript (type safety), path aliases (@/ imports). User can click "Load Demo Profile" button to verify state management works. This pattern will be used extensively in Phase 1 for profile editing UI.
  </action>
  <verify>
Run `pnpm dev`, load extension, click popup:

1. Initial state: "No profile loaded" message visible
2. Click "Load Demo Profile" button
3. "Profile Loaded" blue banner appears with "Demo User" text
4. Click button again → state persists (still shows "Demo User")
5. Reload extension → state resets (expected behavior since no persistence yet)

Check browser console → no errors.

Verify TypeScript compilation: `pnpm type-check` → zero errors (imports resolve correctly).
  </verify>
  <done>
- Popup App.tsx uses useProfileStore hook
- Button click updates Zustand state
- UI reactively updates when state changes
- Tailwind classes style the components
- TypeScript types enforced (profile.personal.name)
- Manual verification confirmed: state management working
- Complete tech stack integration verified (React + Tailwind + Zustand + TypeScript)
  </done>
</task>

</tasks>

<verification>
**Plan 04 Goal:** Tailwind CSS + Zustand integrated and functional

**Verification Steps:**
1. Run `pnpm dev` → extension builds with Tailwind processing
2. Load extension, open popup → styled UI with gradient header, green banner
3. Click "Load Demo Profile" button → blue "Profile Loaded" banner appears
4. Open options page → styled settings page with shadow and borders
5. Change Tailwind class in popup, save → hot reload updates styles
6. Run `pnpm test` → 5 tests pass (3 from Plan 03 + 2 store tests)
7. Run `pnpm type-check` → zero errors (Zustand types work correctly)
8. Inspect compiled CSS → Tailwind utility classes present (not empty)

**Success Criteria:**
- Tailwind CSS compiles and applies styles
- Hot reload works with CSS changes
- Zustand store manages state correctly
- Complete tech stack integrated (React + Tailwind + Zustand + TypeScript + WXT)
</verification>

<success_criteria>
**Measurable Completion:**
1. ✅ Tailwind CSS installed and configured
2. ✅ tailwind.config.ts has correct content paths
3. ✅ PostCSS processes Tailwind directives
4. ✅ Popup shows styled UI (gradient, colors, spacing)
5. ✅ Options page shows styled UI (shadows, borders, layout)
6. ✅ Hot reload works with Tailwind class changes
7. ✅ Zustand installed (~1KB bundle impact)
8. ✅ Profile store created with TypeScript types
9. ✅ Popup demonstrates state management (button updates state, UI reacts)
10. ✅ All tests pass including new store tests (5 total)

**Phase 0 Complete:** All Definition of Done criteria met
- ✅ Extension loads in Chrome without errors
- ✅ `pnpm dev` starts with hot reload
- ✅ TypeScript strict mode passes
- ✅ ESLint and Prettier configured
- ✅ Git repository initialized (pre-existing)
- ✅ WXT framework configured
- ✅ Basic manifest.json created
- ✅ Complete tech stack integrated (React, Tailwind, Zustand, Vitest, Playwright)
</success_criteria>

<output>
After completion, create `.planning/phases/00-foundation-setup/00-04-SUMMARY.md` documenting:
- Tailwind CSS configuration (content paths, PostCSS setup)
- Styled components in popup and options
- Zustand store pattern demonstrated
- Profile type structure (src/types/profile.ts)
- Store test results
- Hot reload verification with CSS changes
- Complete tech stack integration verified
- Files created and modified
- Phase 0 completion confirmation
</output>
